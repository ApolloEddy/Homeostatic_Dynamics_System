**[返回目录](../INDEX.md)** | **[返回本章](./README.md)** | **[上一节](./02.md)** | **[下一节](./04.md)**

# 02.3 系统闭环总览
HDS 遵循生物闭环逻辑：

```
外界刺激 → 稳态偏移 → 内驱力/神经调制 → 行为向量（policy）
→ 编译输出（prompt/检索/采样）→ 交互结果 → 日志与巩固 → 慢变量更新
```

### 3.1 数据流图

```mermaid
graph TD
    User([用户输入]) --> L1[L1 数字生理循环]
    L1 --> HDS{HDS 核心}
    
    subgraph "决策与执行"
        HDS --> L2[L2 神经接口与编译器]
        L2 --> LLM((LLM))
        LLM --> Response([系统响应])
    end
    
    subgraph "记忆系统"
        Mem[(L3 记忆巩固)]
    end
    
    Response --> Mem
    L1 <--> Mem
    
    style HDS fill:#f9f,stroke:#333,stroke-width:2px
    style Mem fill:#ccf,stroke:#333,stroke-width:2px
    style L1 fill:#9f9,stroke:#333,stroke-width:2px
    style L2 fill:#99f,stroke:#333,stroke-width:2px
```

### 3.2 状态演化流程

1. **外界刺激**：用户输入、系统事件、工具结果
2. **稳态偏移**：刺激导致内驱力和神经递质偏离基线
3. **内驱力/神经调制**：L1 更新状态变量
4. **行为向量**：L2 将状态翻译为行为向量
5. **编译输出**：L2 生成控制指令（prompt/检索/采样）
6. **交互结果**：LLM 生成响应
7. **日志与巩固**：L3 记录交互日志
8. **慢变量更新**：L3 更新慢变量（人格基线）

---

**[返回目录](../INDEX.md)** | **[返回本章](./README.md)** | **[上一节](./02.md)** | **[下一节](./04.md)**
