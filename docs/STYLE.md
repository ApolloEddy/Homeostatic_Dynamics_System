# HDS 技术白皮书写作规范（参数脱敏与版式）

> 适用范围：本仓库 `README.md` 与 `docs/*.md`。

---

## 1. 参数脱敏（强制）

> [!IMPORTANT]
> **绝对禁止** 在文档中暴露任何来自代码/配置的真实参数值（包含默认值、阈值、上下界、缩放系数、权重、预算、时间间隔等）。

允许的写法：

- **数学公式**：使用符号与边界变量，例如 \(x\in[x_{\min},x_{\max}]\)、\(\lambda\ge0\)、\(\theta_{\mathrm{fast}}>\theta_{\mathrm{slow}}\)。
- **表格**：只列“符号/变量名/语义/单位/约束”，不列任何真实数值。
- **离散有限结果**：可以写出完整枚举集合，例如：语气 `warm | cool | neutral`、开关 `true | false`。

不允许的写法：

- 在公式/伪代码/表格中写任何疑似真实的数值常量（例如 `0.8`、`2300`、`0.02/hr`）。
- 将代码中的参数表“照搬”到文档。

---

## 2. 伪代码与代码块（可读性优先）

> [!IMPORTANT]
> **代码块中不要写 LaTeX 占位符**（例如 `$w_{da_example}$`）。  
> 代码块应使用“语义化变量名”，符号解释放在代码块下方。

推荐范式（示例）：

```dart
final stateSnapshot = <String, double>{
  'hSocial': hSocial,
  'hEnergy': hEnergy,
  'da': da,
  'ne': ne,
  'ht': ht,
};
```

对应符号解释（示例）：

- `hSocial`：\(H_{\mathrm{social}}(t)\)，社交饱腹感（有界，范围用符号表示）
- `hEnergy`：\(H_{\mathrm{energy}}(t)\)，认知能量（有界）
- `da/ne/ht`：\(N_{\mathrm{DA}}(t),N_{\mathrm{NE}}(t),N_{\mathrm{5HT}}(t)\)，神经调制通道（有界）

> [!NOTE]
> 如确实需要“仅用于排版示意”的数值样例，必须满足：  
> 1) 明确标注为 `DEMO`；2) 与任何代码/配置无关；3) 不作为建议默认值；4) 示例应尽量避免“看起来像默认值的常见小数”。

---

## 3. 图（Mermaid）排版

- **优先竖向**：`flowchart TD` / `graph TD`。
- 节点文字尽量短；需要换行可用 `<br/>`。
- 复杂图优先拆成“主流程图 + 子流程图”，避免一张图挤满。

---

## 4. 表格排版（避免又窄又长）

- 参数类内容优先使用 **两列表**：`符号/字段` + `含义与约束`。
- 内容过长时建议拆分为两张表（例如“生理层参数 / 编译层参数”分开）。
- 如确实需要左右两栏展示，使用 HTML 双栏容器（GitHub 渲染稳定）：

```html
<table>
  <tr>
    <td width="50%">
      <table>
        <tr><th>符号</th><th>说明</th></tr>
        <tr><td>...</td><td>...</td></tr>
      </table>
    </td>
    <td width="50%">
      <table>
        <tr><th>符号</th><th>说明</th></tr>
        <tr><td>...</td><td>...</td></tr>
      </table>
    </td>
  </tr>
</table>
```

---

## 5. 篇幅与拆分建议

当单篇文档同时满足任一条件，建议拆分为“入口页 + 子章节”：

- 章节主题跨越多个层级（例如同时讲 L1 + L2 + L3）
- 包含大量参数/表格/推导导致滚动成本高
- 阅读对象差异大（研究读者 vs 工程落地）

拆分后要求：

- `INDEX.md`、入口页、子章节之间互相可跳转（上一篇/下一篇/返回目录）。

