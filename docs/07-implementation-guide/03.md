**[返回目录](../INDEX.md)** | **[返回本章](./README.md)** | **[上一节](./02.md)** | **[下一节](./04.md)**

# 07.3 配置参数说明
### 3.1 配置文件结构

#### 3.1.1 HDS 配置文件

```yaml
# hds_settings.yaml

homeostatic:
  social_decay_rate: <LAMBDA_SOCIAL>
  energy_recover_rate: <RHO_ENERGY>
  energy_task_cost_base: <KAPPA_TASK>

neuromodulator:
  baseline:
    da: <MU_DA>
    ne: <MU_NE>
    ht: <MU_5HT>
  theta:
    da: <THETA_DA>
    ne: <THETA_NE>
    ht: <THETA_5HT>
  sigma:
    da: <SIGMA_DA>
    ne: <SIGMA_NE>
    ht: <SIGMA_5HT>

stimulus:
  scale: <S_STIM>
  max: <I_MAX>
  offense_to_ne: <OFFENSE_TO_NE_SCALE>
  valence_to_da: <VALENCE_TO_DA_SCALE>
  boundary_ht_penalty: <BOUNDARY_HT_PENALTY>

sampling:
  temperature_min: <T_MIN>
  temperature_max: <T_MAX>
  top_p_min: <P_MIN>
  top_p_max: <P_MAX>

behavior_mapping:
  initiative:
    high: <B_INITIATIVE_MAX>
    low: <B_INITIATIVE_MIN>
  warmth:
    high: <B_WARMTH_MAX>
    low: <B_WARMTH_MIN>
  patience:
    low: <B_PATIENCE_MIN>
    high: <B_PATIENCE_MAX>
  verbosity:
    low: <B_VERBOSITY_MIN>
    high: <B_VERBOSITY_MAX>
  directness:
    low: <B_DIRECTNESS_MIN>
    high: <B_DIRECTNESS_MAX>
  defensiveness:
    low: <B_DEFENSIVENESS_MIN>
    high: <B_DEFENSIVENESS_MAX>
  curiosity:
    low: <B_CURIOSITY_MIN>
    high: <B_CURIOSITY_MAX>
  boundary_strength:
    high: <B_BOUNDARY_MAX>
    low: <B_BOUNDARY_MIN>
```

### 3.2 参数说明

> [!NOTE]
> 上述 `<...>` 仅为占位符 token，不代表任何真实默认值。  
> 统一符号与约束定义见：`docs/appendix/parameter-symbols.md`。

#### 3.2.1 内驱力参数（Homeostasis）

> 对齐附录：A.2 稳态（Homeostasis）

<table>
  <thead>
    <tr>
      <th>配置键（示例）</th>
      <th>符号与约束</th>
      <th>配置键（示例）</th>
      <th>符号与约束</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>homeostatic.social_decay_rate</code></td>
      <td>\(\lambda_{\mathrm{social}}\)：社交自然衰减率，\(\ge 0\)</td>
      <td><code>homeostatic.energy_recover_rate</code></td>
      <td>\(\rho_{\mathrm{energy}}\)：能量自然恢复率，\(\ge 0\)</td>
    </tr>
    <tr>
      <td><code>homeostatic.energy_task_cost_base</code></td>
      <td>\(\kappa_{\mathrm{task}}\)：任务消耗系数，\(\ge 0\)</td>
      <td><em>软饱和函数</em></td>
      <td>\(\mathrm{sat}(\cdot)\)、\(k_{\mathrm{sat}}\)、\(x_{\mathrm{mid}}\)：连续、可导、有界</td>
    </tr>
  </tbody>
</table>

#### 3.2.2 神经调制参数（OU / Neuromodulators）

> 对齐附录：A.3 神经调制（OU / Neuromodulators）

HDS 采用“通道化”参数：对每个通道 \(i \in \{\mathrm{DA},\mathrm{NE},\mathrm{5HT}\}\) 统一定义：

- \(\mu_i\)：基线（慢变量）
- \(\theta_i\)：回归速率（\(\ge 0\)）
- \(\sigma_i\)：噪声强度（\(\ge 0\)）

配置文件层面通常体现为三组键（示例）：

<table>
  <thead>
    <tr>
      <th>配置键（示例）</th>
      <th>符号</th>
      <th>配置键（示例）</th>
      <th>符号</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>neuromodulator.baseline.da/ne/ht</code></td>
      <td>\(\mu_{\mathrm{DA/NE/5HT}}\)</td>
      <td><code>neuromodulator.theta.da/ne/ht</code></td>
      <td>\(\theta_{\mathrm{DA/NE/5HT}}\)</td>
    </tr>
    <tr>
      <td><code>neuromodulator.sigma.da/ne/ht</code></td>
      <td>\(\sigma_{\mathrm{DA/NE/5HT}}\)</td>
      <td><code>stimulus.max</code></td>
      <td>\(I_{\max}\)</td>
    </tr>
  </tbody>
</table>

#### 3.2.3 刺激参数（Perception → Stimulus）

> 对齐附录：A.4 观测与刺激归一化（Perception → Stimulus）

刺激模块的重点不是“给出权重默认值”，而是约束 **输入域、压缩形式与限幅保护**。常见配置项包括：

- \(s_{\mathrm{stim}}\)：归一化/压缩尺度参数（伪变量）
- \(I_{\max}\)：单次刺激最大幅度（有界）
- \(\alpha_{\mathrm{offense}\rightarrow \mathrm{ne}}\)：冒犯/威胁到 NE 通道的映射增益（伪变量；有界）
- \(\alpha_{\mathrm{valence}\rightarrow \mathrm{da}}\)：效价到 DA 通道的映射增益（伪变量；有界）
- \(p_{\mathrm{boundary}}\)：边界事件惩罚/抑制项（伪变量；有界）

#### 3.2.4 采样参数（Sampling）

> 对齐附录：A.6 采样映射（Sampling）

采样参数属于“可审计控制信号”，文档只描述边界与单调性，不提供任何默认值：

<table>
  <thead>
    <tr>
      <th>采样量</th>
      <th>符号与约束</th>
      <th>采样量</th>
      <th>符号与约束</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>temperature</code></td>
      <td>\(T_t \in [T_{\min},T_{\max}]\)</td>
      <td><code>top_p</code></td>
      <td>\(P_t \in [P_{\min},P_{\max}]\)</td>
    </tr>
    <tr>
      <td><code>max_tokens</code></td>
      <td>\(M_t \in [M_{\min},M_{\max}]\)</td>
      <td><em>映射系数集</em></td>
      <td>\(\alpha_{\bullet},\beta_{\bullet}\)：有界、可回滚</td>
    </tr>
  </tbody>
</table>

#### 3.2.5 行为向量参数（Behavior Vector）

> 对齐附录：A.5 行为向量（Behavior Vector）

行为向量约束形式：

$$
\mathbf{b}_t \in [B_{\min},B_{\max}]^{k}
$$

其中：

- \(k\)：维度数（由实现固定；文档不对外承诺具体数值）
- \(B_{\min}, B_{\max}\)：全局边界（伪变量；有界）
- 各维度名称建议与实现一致（见 `docs/appendix/parameter-symbols.md` 的 A.5）

---

**[返回目录](../INDEX.md)** | **[返回本章](./README.md)** | **[上一节](./02.md)** | **[下一节](./04.md)**
